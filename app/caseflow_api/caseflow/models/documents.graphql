type Document {
  content: String
  contentsize: Int
  contenttype: String
  creationuser: String
  description: String
  documentid: String
  downloadurl: String
  id: Int!
  latestversion: String
  metadata: String
  modificationuser: String
  name: String
  docname: String
  creationdate: DateTime
  modificationdate: DateTime
  dms_provider:Int
  documentList: [Document] @materializer(query: "getDocumentUsingVersions")
  versionsList: [Versions] @materializer(query: "getVersionsUsingDocid")
}

"""
These are some examples of queries generated from the schema. Feel free to modify them or add your own.
"""
type Query {
  getDocumentList: [Document]
    @dbquery(
      type: "postgresql"
      schema: "public"
      table: "document"
      configuration: "postgresql_config"
    )
  """
  update document Mutation
  """
  getDocumentId(documentid: String!): Document
    @dbquery(
      type: "postgresql"
      query: """
      Select id FROM  "Document"  WHERE "documentid" = $1
      """
      configuration: "postgresql_config"
    )
  getDocument(id: Int!): Document
    @dbquery(
      type: "postgresql"
      schema: "public"
      table: "document"
      configuration: "postgresql_config"
    )
  getDocumentUsingVersions(id: Int!): [Document]
    @dbquery(
      type: "postgresql"
      query: """
      SELECT T."content", T."contentsize", T."contenttype", T."creationdate", T."creationuser", T."description", T."documentid", T."downloadurl", T."dms_provider", T."id", T."latestversion", T."metadata", T."modificationdate", T."modificationuser", T."name", T."docname", T."versions"
        FROM "public"."Document" T
        WHERE T."versions" = $1
      """
      configuration: "postgresql_config"
    )
}

"""
insert document Mutation
"""
type Mutation {
  insertDocument(
    modificationdate: DateTime!
    downloadurl: String!
    creationuser: String!
    description: String!
    name: String!
    docname: String!
    documentid: String!
    content: String!
    modificationuser: String!
    contentsize: Int!
    creationdate: DateTime!
    latestversion: String!
    metadata: String!
    contenttype: String!
    dms_provider: Int!
  ): Document
    @dbquery(
      type: "postgresql"
      schema: "public"
      table: "document"
      dml: INSERT
      configuration: "postgresql_config"
    )
  """
  delete document Mutation
  """
  deleteDocument(documentid: String!): Document
    @dbquery(
      type: "postgresql"
      schema: "public"
      table: "document"
      dml: DELETE
      configuration: "postgresql_config"
    )
  """
  update document Mutation
  """
  updateDocument(
    documentid: String!
    modificationdate: DateTime
    downloadurl: String
    description: String
    name: String
    content: String
    modificationuser: String
    contentsize: Int
    latestversion: String
    contenttype: String
    docname: String
  ): Document
    @dbquery(
      type: "postgresql"
      query: """
      UPDATE "document" SET
      "modificationdate"= $2,
      "downloadurl"= $3,
      "description"= $4,
      "name"=$5,
      "content"= $6,
      "modificationuser"= $7,
      "contentsize"= $8,
      "latestversion"= $9,
      "contenttype"= $10, 
      "docname"= $11 WHERE "documentid" = $1
      """
      configuration: "postgresql_config"
    )
}


